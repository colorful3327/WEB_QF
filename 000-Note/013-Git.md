# git 和 GitHub
* git
  * 分布式版本管理器
  * 安装在你电脑里的一个软件
  * 用来管理你的文件夹
    * 管理: 管理文件的时间节点
  * 把文件夹内的代码上传
    * 上传到一个指定的远程位置
* github
  * 线上网站
  * 保存你使用git上传的代码
  * 不即时的社交功能
  * 开源代码
* 码云
  * 国内的GitHub
## git安装
* 官网下载
* 安装 下一步
* 检测 鼠标桌面右键 俩选项
  * 命令行 版本
* 首次安装配置
  * 配置全局内容 为了将来上传时候的签名
* 查看全局配置
  * `$ git config --list`
* 配置全局邮箱
  * `$ git config --global user.email "你的邮箱"`
  * 邮箱随便写一个也可 但是最好还是真的 是注册GitHub的那个就更好了
* 配置全局用户名
  * `$ git config --global user.name "名字"`
  * 用户名最好是你GitHub的
## git的应用
* 安装好了
  * 命令行可以 git xxx
  * git bash: git安装时给你提供了一个新的命令行工具
    * 右键 当前目录打开
## git初体验  
* 本地仓库**初始化**
  * 把一个文件夹初始化为一个git仓库 
    * 这个文件夹及所有后代文件夹及文件才会被git管理 
  * `$ git init`
    * 文件夹里多个隐藏文件夹 .git
    * 表示你这个文件夹被git管理了 这就叫做本地仓库
  * 初始化以后
    * 文件被虚拟分为 工作区、暂存区、历史区
    * 工作区
      * 你书写代码书写内容的真实位置
    * 暂存区
      * 暂时存储一些内容 存储的不是文件是节点
      * 把你想要形成历史版本节点的内容暂存
    * 历史区
      * 已经形成的历史版本 将来可以"穿越"回来的历史节点
      * 只能把暂存区里面的内容形成历史版本节点
      * 不能直接操作工作区
  * 上传的时候
    * 只能上传历史区的内容
* 把工作区的内容**添加到暂存区**
  * 你的工作区要有内容
    * .git不算
    * 空文件可以添加 空文件夹不可
    * 没有形成历史版本之前 暂存区的同文件会被覆盖
  * 命令行 切换到.git所在目录
    * $ `git add 文件名`
    * $ `git add 文件夹名称`
    * $ `git add --all`
      * 简写 $ `git add .`
* 查看工作区到暂存区状态
  * 命令行 切换到.git所在目录
    * `$ git status`
* 撤回暂存区的内容
  * 命令行 切换到.git所在目录
    * `$ git reset HEAD -- 文件名`
      * 撤回单个文件
    * `$ git reset HEAD -- 文件夹名称`
    * `$ git reset HEAD -- .`
      * 撤回暂存区所有内容
* **形成历史版本**
  * 前提 暂存区有内容
  * 命令行 切换到.git所在目录
    * `$ git commit -m "说明"`
* 查看历史版本
  * 命令行 切换到.git所在目录
    * `$ git log`
    * 以倒序的形式出现
* **回滚历史版本**
  * 回到之前记录的某个时间节点的状态
  * 命令行 切换到.git所在目录
    * `$ git reset --hard 版本id`
      * 版本id就是commit信息
* 删除历史版本
  * 命令行 切换到.git所在目录
    * `$ git rebase -i 历史版本id`
  * 历史版本不能写你要删除的 要写前一个版本id
  * 删除时 进入编辑状态后 
    * 要把pick改为drop 保存退出
    * 编辑状态
      * 英文输入法 
      * i键按下 编辑文本
      * esc 
      * `:wq`
## 上传
* GitHub / Gitee码云
* 上传的不是.git所在的文件夹
  * 是这个文件夹里的内容
* 建立远程仓库  
  * 就是在GitHub上新建文件夹其实
  * 打开GitHub 右上角 new repository
    * repository name 必填, 表示远程仓库名称("文件夹"名称)
    * 描述选填 可中文
    * 点击 create repository
* 查看远程库的信息
  * `git remote -v`
* 删除远程仓库
  * `git remote rm origin`
* 在文件夹里保证有一个没有上传的历史版本
* 添加一个远程仓库地址
  * 命令行 切换到.git所在目录
  * `$ git remote add origin 你的仓库地址`
    * origin 可以随意书写 代表了你的仓库地址
    * 仓库地址 你准备上传的远程仓库的地址
      * GitHub / Gitee
* 添加完毕以后
  * 只要还在这个文件夹里面 
  * 将来上传只要你指明上传到origin地址 就是上传到现在添加的这个仓库
* 把历史区的内容推送到远程
  * 命令行 切换到.git所在目录
  * `$ git push -u origin master`
    * push 推送
    * -u 记录下来你本次推送到哪个地址哪个分支 下次不修改可以直接`git push` 还是这个地址分支
    * origin 推送到哪个地址
    * master 分支
  * 第一次上传
    * 填写邮箱密码  
      * 错了再给你次机会 有的是命令行书写 但是不显示输入状态
      * 有时记录错的账号密码
        * 电脑 控制面板 凭据管理器 删除GitHub记录
## 拉取
* 自己的
  * 第一次
    * 实际就是克隆远程到本地
    * 打开GitHub 找到你要复制的仓库
      * 复制远程仓库地址
      * 在本地你要放的文件夹打开命令行
      * `$ git clone 地址`
    * 这个文件夹是以及被git初始化的仓库
      * 并且里面记录了一个远程仓库地址
      * 修改后还是上传到这个地址仓库
  * 第n次
    * 不需要再克隆了 只需要在之前克隆的文件夹里面打开命令行
    * `$ git pull`
* 别人的
  * 地址
  * 第一次直接克隆 `$ git clone 地址`
  * 第二次以后
    * 一样直接`$ git pull`
  * 修改上传需要别人的账号密码
## 回滚历史冲突
* 先拉取再上传 多种解决方案选取
## 了解三个Git相关文件
* git 占位文件
  * 初始化项目要先把目录结构准备好上传一次
    * git管理时 空文件夹不管
    * git提供了一个 .gitkeep 文件 没有名称只有后缀
    * 进行占位 保持文件结构
* git忽略文件
  * 开发时会下载第三方
  * 比如node_modules里面东西又多又碎
  * 初始化项目时 只要有个package.json就可
  * 上传时就不传node_modules
  * git准备了个 .gitignore 只有后缀没有名字
    * 在里面书写不希望git管理的文件文件夹
      * 里面 node_modules/ package-lock.json
    * 建立在.git同级目录
* readme.md
  * 自己写笔记描述
  * 传递到远程时 会自动显示在仓库下面 以html结构显示内容
* 推荐一个浏览器插件
  * octotree
## git分支
* 当你初始化仓库以后 会自动生成一个分支叫做master
  * 叫做主要分支 根分支
  * 我们可以开辟更多的分支 去分别写内容
  * 每个分支上的内容相对独立
### 本地操作
* 创建一个分支
  * 打开命令行 切换到.git所在目录
  * `$ git branch 自定义分支名称`
  * 你的当前分支有什么 开辟出来的分支相当于把你的内容复制一份
    * 每个分支创建的时候 都是所在分支的所有内容
* 查看分支情况
  * 打开命令行 切换到.git所在目录
  * `$ git branch`
* 切换所在分支
  * 打开命令行 切换到.git所在目录
  * `$ git checkout 你要去的分支名称`
* 合并分支
  * 你只能是站在某个分支上 合并别的内容到自己身上
  * 打开命令行 切换到.git所在目录
  * `$ git merge 要合并过来的分支名`
* 删除本地分支
  * 离开要删除的分支
  * 打开命令行 切换到.git所在目录
  * `$ git branch -d 你要删除的分支`
    * 如果你要删除的分支上有些历史版本、没有形成历史版本的临时文件
    * 可能删除不掉
  * 强力删除(慎用)
    * `$ git branch -D 你要删除的分支`
### 分支的远程操作
* 当你建立其他分支以后 
  * 默认是不会上传到远程的
    * 因为git默认上传master分支
  * 当你上传的时候
    * `$ git push -u origin master`
    * 表示把当前分支和远程的master分支建立连接
* 把自定义分支的内容上传
  * 切换到你要上传的分支 
  * 打开命令行 切换到.git所在目录
  * `$ git push origin 分支名称`
* 删除远程分支
  * 打开命令行 切换到.git所在目录
  * `$ git push origin --delete 你要删除的分支名称`
### 拓展
* 特殊分支 gh-pages
* 可以把你的GitHub变成一个临时的线上服务器
  * 只要你在这个服务器上上传一个index.html文件 就可以直接访问
  * 不是这个名字 就自己书写文件名
* 上传到gh-pages以后
  * 来到GitHub 切换到gh-pages分支
  * 点击settings
  * 在GitHub pages位置会给个地址
  * index.html可以直接访问
  * 其他名字 就地址加文件名.html访问
### 分支命名规范
* 主分支 
  * master  
  * 不接受任何代码上传 只接收dev分支合并的内容
  * 只存储每个迭代版本中经过测试合格的版本
* 主开发分支
  * dev / development / deve
  * 初始化项目以后 就会直接从master上开辟的分支
  * 不接受任何代码上传
  * 只接收主功能分支合并的内容
  * 存储在开发过程中的每一个阶段内容
* 主功能分支
  * feature-xxx
  * 直接从dev分支上开辟出来的分支
  * 进行各个功能的开发
  * 开发完毕以后把代码合并到dev分支上
  * 接收文件上传
* 功能bug解决分支
  * feature-xxx-fix-xxx
  * 在项目运行过程中 出现bug修复的分支
  * 从功能分支上开辟出来
  * 修改完毕以后合并到功能分支上
  * 再由功能分支合并到dev分支
* 紧急bug解决分支
  * hot-fix-xxx
  * 直接从master上开辟
  * 进行紧急的bug修复
  * 修复完毕以后 直接合并到master上
## 配置git密钥
* GitHub上传
  * 除了可以使用HTTPS的地址 还可以ssh
  * 需要你在电脑配置一个密钥 然后直接登陆
* 命令行 无所谓目录
* `$ ssh-keygen -t rsa -C "你的Git工具的全局邮箱"`
  * 回车后 会要求填写二次验证密码 可以不写 
  * 生成密钥
* 电脑里找到
  * 目录下的pub文件
  * 复制all
* 来到GitHub
  * 用户 settings ssh 
  * SSH key 后面的 new SSH key
  * title随便写
  * key位置书写你粘贴下来的密钥
* 添加成功
  * 可以使用ssh地址上传和下载了
## 桌面端
* https://desktop.github.com/
* 点点点
## 码云
* GitHub换个码云地址
  * 新建仓库
  * 地址设置
* GitHub桌面端操作Gitee
  * 创建Gitee仓库
  * 复制仓库地址 使用githubdesktop直接clone
    * clone时 使用url
    * 把Gitee的地址填上
  * 使用githubdesktop操作上传
    * 其余一样